(window["webpackJsonpweb-client"]=window["webpackJsonpweb-client"]||[]).push([[0],{173:function(e,t,a){e.exports=a(313)},178:function(e,t,a){},179:function(e,t){if("undefined"===typeof moment){var a=new Error("Cannot find module 'moment'");throw a.code="MODULE_NOT_FOUND",a}e.exports=moment},313:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(24),r=a.n(o),i=(a(178),a(25)),c=a(323),s=a(318),u=a(324),m=a(325),d=a(321),p=a(319),h=a(38),g=a(139),E=a.n(g),w=function(e){var t=l.a.useRef(null);return l.a.useEffect(function(){new E.a(t.current,{type:e.type,data:e.data,options:e.options})},[t,e.data,e.type,e.options,e.width,e.height]),l.a.createElement("canvas",{width:e.width,height:e.height,ref:t})},f=a(322),v=function(e){var t=l.a.useState(!1),a=Object(i.a)(t,2),n=a[0],o=a[1],r=l.a.useRef(null);return l.a.createElement(s.a,{text:!0,style:{marginTop:"7em"}},l.a.createElement(f.a,{primary:!0,onClick:function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){var a=t.getTracks(),n=[];r.current=new MediaRecorder(t,{mimeType:"audio/ogg"}),r.current.addEventListener("dataavailable",function(e){e.data.size>0&&n.push(e.data)}),r.current.addEventListener("stop",function(){a.map(function(e){return e.stop()});var t=new FormData;t.append("file",new Blob(n)),e.setIsLoading(!0),fetch("/uploadAudio",{method:"post",body:t}).then(function(e){return e.json()}).then(function(t){e.visualize(t)}).finally(function(){e.setIsLoading(!1)})}),r.current.start(),o(!0)})}},"Start the meeting"),l.a.createElement(f.a,{disabled:!n,secondary:!0,onClick:function(){o(!1),r.current.stop()}},"Stop the meeting"))},b=function(){var e=l.a.useState({}),t=Object(i.a)(e,2),a=t[0],n=t[1],o=l.a.useState([]),r=Object(i.a)(o,2),g=r[0],E=r[1],f=l.a.useState([]),b=Object(i.a)(f,2),y=b[0],k=b[1],x=l.a.useState(!1),C=Object(i.a)(x,2),M=C[0],S=C[1];return l.a.createElement("div",null,l.a.createElement(c.a,{fixed:"top",inverted:!0},l.a.createElement(s.a,null,l.a.createElement(c.a.Item,{as:"a",header:!0},"Meeting moderator"),l.a.createElement(c.a.Item,{as:"a"},"Home"))),l.a.createElement(u.a,{columns:3,padded:!0},l.a.createElement(u.a.Row,null,l.a.createElement(u.a.Column,null),l.a.createElement(u.a.Column,null,l.a.createElement(m.a,null,l.a.createElement(v,{visualize:function(e){n(e.sentiment),E(e.speakers),k(e.topics)},setIsLoading:S}))),l.a.createElement(u.a.Column,null)),M||0===g.length?l.a.createElement(u.a.Row,null,l.a.createElement(u.a.Column,null),l.a.createElement(u.a.Column,null,l.a.createElement(s.a,{style:{width:"600px"}},l.a.createElement(d.a,{active:!0,inverted:!0},0===g.length?"No data available":l.a.createElement(p.a,{inverted:!0},"Loading"))))):l.a.createElement(u.a.Row,null,l.a.createElement(u.a.Column,null,l.a.createElement(s.a,{style:{width:"600px"}},l.a.createElement("h1",null,"Sentiment "),l.a.createElement("p",null,"How was the general feeling during the meeting"),l.a.createElement("small",null,"Green means more positive, and red means negative"),l.a.createElement("img",{src:"//raw.githubusercontent.com/d3/d3-scale-chromatic/master/img/RdYlGn.png",alt:"RdYlGn",width:"100%",height:"40"}),l.a.createElement(w,{width:200,height:200,type:"bar",data:{datasets:[{label:"Sentiment",data:[a.magnitude],backgroundColor:[h.a(h.b().domain([-1,1]).range([0,1])(a.score))]}]},options:{scales:{yAxes:[{ticks:{suggestedMax:1,suggestedMin:0}}]}}}))),l.a.createElement(u.a.Column,null,l.a.createElement(s.a,{style:{width:"600px"}},l.a.createElement("h1",null,"Topics covered "),l.a.createElement("p",null,"What was taked about during the meeting"),l.a.createElement("small",null,"The size of each part of the Pie, coresponds to how long it was covered"),l.a.createElement(w,{width:200,height:200,type:"pie",data:{datasets:[{data:y.map(function(e){return e.ratio}),backgroundColor:h.c}],labels:y.map(function(e){return e.topic})},options:{scales:{yAxes:[{ticks:{suggestedMax:1,suggestedMin:0}}]}}}))),l.a.createElement(u.a.Column,null,l.a.createElement(s.a,{style:{width:"600px"}},l.a.createElement("h1",null,"Speakers contriputions ratio"),l.a.createElement("p",null,"How long each speaker participated to the meeting"),l.a.createElement("small",null,"The size of each part of the Pie, coresponds to how long the speaker talked"),l.a.createElement(w,{width:200,height:200,type:"pie",data:{datasets:[{data:g.map(function(e){return e.ratio}),backgroundColor:h.c}],labels:g.map(function(e){return e.speaker_id})},options:{scales:{yAxes:[{ticks:{suggestedMax:1,suggestedMin:0}}]}}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[173,1,2]]]);
//# sourceMappingURL=main.27db48a1.chunk.js.map